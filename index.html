<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie10 lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie10 lt-ie9"> <![endif]-->
<!--[if IE 9]>    <html class="no-js lt-ie10"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>SOAP Proxy Demo</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
</head>
<body>
    <form action="soap-proxy.php" id="formDemo">
        <input type="text" name="formField" id="formField" />
        <input type="submit" id="formSubmit" value="Search" />
    </form>
    <div id="results"></div>
    <script>
        $(document).ready(function() {
            $('#formDemo').submit(function(e) {
                // prevent default form submission action
                e.preventDefault();
                var sourceCode = $('#formField').val();
                $.ajax({
                    url: 'myproxy.php',
                    type: "POST",
                    dataType: "xml",
                    data: { 'sourceCode': sourceCode },
                    error: function(soapResponse) {
                        $('#results').html('<p>Failure.</p>');
                        alert(soapResponse.responseText);
                    },
                    success: function(soapResponse) {
                        $('#results').html('<p>' + $(soapResponse).text() + '</p>');
                    }
                });

            });

        });
    </script>
</body>
</html>